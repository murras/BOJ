# Chapter 2 네트워크 플로우
---
## 01 네트워크 플로우(p.1)

#### 최대 유량

- S에서 T로 흐를 수 있는 최대 양.
  - 시작점: S(source)
도착점: T(sink)
`최대 유량 =  source에서 나간 양 = sink로 들어온 양`
  - `flow(흐른 양) = f(u,v)`
`capacity(용량) = c(u,v)`
    - 3가지 속성
      - `f(u,v)<=c(u,v)`
      - `f(u,v) = -f(v,u)`
      - 정점에 들어온 양 = 나간 양 (source와 sink는 제외)

#### Residual Capacity(잔여 용량)

- `cf(u,v) = c(u,v) - f(u,v)`
- Residual 그래프로 바꾸는 것 공부하기.
- **Residual 그래프에서 최대 유량**
`최대 유량 = source에 들어온 양 = sink에서 나간 양`

##### Augmenting Path

- source에서 sink로 가는 경로 Residual network에서 구한다.
#### 최대 유량을 찾는 알고리즘

- **Ford-Fulkerson**
  - Augmenting Path상에 있는 Residual Capacity의 최솟값을 경로 상에서 빼주고, 반대 경로엔 더해준다.
  - 모든 경로에 같은 작업을 해준다.
  - source에 들어온 양 = sink에서 나간양이 최대 유량이다.
  - 시간 복잡도: O(Ef) = O(E)(Edge 개수, DFS) * O(f)(maximum flow)
- **Edmond-Karp**
  - Ford-Fulkerson과 같지만 DFS 대신 BFS를 사용한다.
  - 시간 복잡도: O(VE^2) = O(E)(Edge 개수, BFS) * O(VE)
    - O(VE) : 모든 간선이 최소값으로 최대 O(V)번 선택된다

**시간복잡도에 따라 어떤 알고리즘이 효율적인지 결정해서 푼다**
>[Total Flow_6086](http://icpc.me/6086)

---
## 02 이분 탐색(p.71)

- 최대값의 최소 / 최소값의 최대를 찾을때
>[주차장_1348](http://icpc.me/1348)

모든 차가 주차하는데 필요한 최소 시간 구하기.
그래프를 그려놓고 시간 늘리거나 줄여 가면서 계산한다.

---
## 03 이분 매칭 (p.44)

#### Matching

- 그래프에서 간선을 선택했을때, 각각의 간선이 공통된 vertex를 공유하지 않을때

>[열혈강호_11375](http://icpc.me/11375)
x - next - pred[next] (sink 이면 -1 저장)
x - graph[x] - pred[next]
graph 왼쪽 - 오른쪽 관계
check 오른쪽 방문 했는지 여부
pred 오른쪽이 어디를 가리키는지
모든 capacity 값을 1로
모든 사람이 최대 1개의 일
모든 일은 최대 한사람

>[열혈강호2_11376](http://icpc.me/11376)
모든 사람이 최대 2개의 일
모든 일은 최대 1사람
capacity 를 2로

>[열혈강호3_11377](http://icpc.me/11377)
모든 사람이 최대 1개의 일
모든 일은 최대 한사람
그 중 k명은 2개의 일을 할 수 있다.
방법 1. C(n,k) 이용
방법 2. 새로운 노드를 만들어서 그 노드에 capacity를 k 준다.

>[열혈강호4_11378](http://icpc.me/11378)

>[축사배정_2188](http://icpc.me/2188)
소 N마리, 축사 M개 1칸에 1마리의 소
소는 원하는 축소에 들어간다.
최대한 많은 수 찾기
열혈강호_11375 와 같은 문제

>[노트북의 주인을 찾아서_1298](http://icpc.me/1298)
열혈강호_11375 와 같은 문제
maximum flow 이용

>[소수 쌍_1017](http://icpc.me/1017)
소수는 2를 제외하고 모두 홀수이다.
`홀수 = 홀수 + 짝수`이므로 왼쪽을 홀수, 오른쪽을 짝수로 놓고 푼다.
(2=1+1 수가 중복되지 않기 때문에 가능한 문제)

**이분매칭을 풀떄 왼쪽, 오른쪽을 나눌 기준을 찾는게 중요하다**
>[상어의 저녁식사_1671](http://icpc.me/1671)
크기, 속도, 지능이 상대보다 크거나 같으면 먹을 수 있다.
같을 경우에는 인덱스가 작은게 큰것을 먹을 수 있다고 가정
한 상어가 최대 2마리 먹을 수 있다.
살아 남을 수 있는 상어의 최소 수

---
## 04 최소 컷(p.75)

#### Cut

- 그래프를 2개의 서로 다른 집합으로 나누는 것
Edge를 자른다고 생각
가장 작은 cut을 Minimum Cut이라고 한다
#### Max-flow Min-Cut Theormem

- source에서 sink로 흐르지 못하게하기 위해 제거해야하는 edge의 최소 비용
>[학교 가지마!_1420](http://icpc.me/1420)
빈칸을 벽으로 바꿔서 학교를 가지 못하게 해야하는 최소 개수를 구해야 한다
min-cut 문제는 맞지만 간선을 자르는 게 아니라 정점을 잘라야한다
이럴 때는 정점을 간선으로 바꿔야한다
V => V_in->V_out (capacity = 1)
정점에 capacity 부여
밖의 간선에는 매우 큰 값을 capacity로 준다

---
## 05 최소 버텍스 커버(p.85)

#### Vertex Cover

- 정점 집합 S가 있을 때, 모든 간선 양 끝점 중 적어도 하나가 S에 포함되어야 한다.
- 그 중 최솟값을 Minimum Vertex Cover라고 한다.
- 0개 또는 1개가 가능하다.
- 이분 그래프에서 최대 매칭 문제를 최소 버텍스 문제로 풀 수 있다.
즉 최대 유량 문제로 풀 수 있다.
>[돌멩이 제거_1867](http://icpc.me/1867)
왼쪽 행, 오른쪽 열로 놓고 돌멩이 위치에 맞춰서 잇는다.
1열 선택 -> 1열 줍겠다는 의미
2행 선택 -> 2행 줍겠다는 의미

>[게시판 구멍 막기_2414](http://icpc.me/2414)
구멍만 막아야 하기 때문에 돌멩이 제거와는 다르게 풀어야 한다.
행 그룹 / 열 그룹으로 놓고 푼다.
간선이 구멍의 의미

#### 최대 독립 집합

- 모든 간선의 양 끝점 모두가 포함되면 안된다. 1개 또는 2개가 가능하다.
- 최소 버텍스 커버의 여집합 + 이분 그래프 ▶ 이분 매칭 ▶ 최대 유량으로 풀 수 있다.
>[컨닝2_11014](http://icpc.me/11014)
짝수, 홀수열끼리 연결될 수 없기 때문에 이분 그래프이다.
최대 유량 문제로 풀 수 있다.
