# Chapter 4 알고리즘 게임

---
## 01 돌 게임(p.7)

- 문제 1
	- 돌 21개를 놓고 3개 이하를 A, B 둘이 번갈아가면서 가져간다.
	- 마지막 돌을 가져가는 사람이 게임을 이긴다.
	- 1,2,3개가 남았을 때 이긴다.
	- 4개 남으면 어떻게 가져가도 진다.
	- 5,6,7개가 남으면 1,2,3개 가져가면 이긴다.(4개를 남기게)
	- 8개 남으면 어떻게 가져가도 진다.
	- ...

- 문제 2
  - 1,3,4개를 가져갈 수 있을 때 표 채우기.
	- 마지막 돌을 가져가는 사람이 이긴다.
	- L이 되게 할 수 있으면 W, W밖에 안나오면 L을 채운다

- 문제 3
	- 1,3,4개를 가져갈 수 있을 때 표 채우기.
	- 마지막 돌을 가져가는 사람이 **진다**.

>[돌 게임_9655](http://icpc.me/9655)
- 1,3개 가져갈 수 있다.
- 마지막 돌을 가져가는 사람이 이긴다.

>[돌 게임2_9656](http://icpc.me/9656)
- 위 문제와 같은 조건이나 마지막 돌을 가져가는 사람이 진다.

>[돌 게임3_9657](http://icpc.me/9657)

>[돌 게임4_9658](http://icpc.me/9658)

>[돌 게임5_9659](http://icpc.me/9659)
- N 제한이 크다.
- 홀수, 짝수로 판단한다.

>[돌 게임6_9660](http://icpc.me/9660)
- N 제한이 커도 규칙이 있기 때문에 판단할 수 있다.

>[돌 게임7_9661](http://icpc.me/9661)
- 4^k개 만큼 가져갈 수 있다.
- 주기성을 발견해서 판단할 수 있다.

>[돌 게임8_9662](http://icpc.me/9662)
- 2^k에서 주기를 찾을 수 있다.

>[박스 나누기 게임_11867](http://icpc.me/11867)
- (1,1) 이면 Lose.
- (N, M) 선택했을 때
	- (1, M-1)
	- (2, M-2)
	- ...
	- (M-1, 1)
	- 이 경우들이 모두 W이면 (N, M)은 L, 하나라도 L이 있으면 W.


---
## 02 님 게임(p.36)

- 돌 더미 3개가 있다.
- 각 사람이 비어있지 않은 돌더미를 하나 선택하고, 돌을 가져간다.(제한 없이)
- 마지막 돌을 제거한 사람이 게임을 이긴다.(더 이상 가져갈 돌이 없는 사람이 게임을 진다.)
- (0,0,0)은 지는 위치.
- (0,0,x)는 이기는 위치.
- (0,0,1)은 이기는 위치.
- (0,1,1)은 지는 위치.
- (0,1,x)는 이기는 위치.(x>1)
- 돌의 개수를 XOR한게 0이면 지는 위치.

>[님 게임 2_11868](http://icpc.me/11868)

>[님블_11869](http://icpc.me/11869)

---
## 03 Sprague Grundy Function(p.44)

- g(x) = x의 다음 위치 y의 g(y)에 포함되지 않는 가장 작은 정수.
- 돌 게임 표를 위 방법을 통해서 채운다.
- 0이 나오는 경우가 지는 경우.
- 게임이 여러 개로 구성된 경우에는 각 게임의 SGF 값을 XOR한 값이 0이면 L, 아니면 W이 된다.

>[님 게임 2_11868](http://icpc.me/11868)
- 님 게임 2를 SGF로 해보면 돌더미 1개를 하나의 게임이라고 생각한다.
- 3개 XOR 한다.

>[님 게임 홀짝_11871](http://icpc.me/11871)
- 짝수만큼 제거할땐 전체 제거가 안된다.
- 홀수만큼 제거할땐 전체 제거를 해야한다.
- 돌 더미에 돌이 0 또는 2개 남으면 게임이 끝난다.
- SGF 표를 채워본다.
- g(2k) = k-1
- g(2k-1) = k

>[님 게임 나누기_11872](http://icpc.me/11872)
- 돌이 적어도 2개 있는 돌더미 하나를 선택한 다음, 두 개의 비어있지 않은 돌 더미로 나누는 규칙이 추가됨.
- 2개 있을때 경우의 수
	- 1개 남기기 = g(1) = 1
	- 0개 남기기 = g(0) = 0
	- (1,1)로 쪼개기 = g(1)^g(1) = 0
	- 즉, g(2) = 2가 된다.
- 이런 방식대로 규칙을 찾는다.
